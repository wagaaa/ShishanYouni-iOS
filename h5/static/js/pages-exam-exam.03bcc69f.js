(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-exam-exam"],{"337d":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".sequence[data-v-1ef95a9f]{position:absolute;top:%?-95?%;right:%?30?%;font-size:%?60?%;text-align:center;line-height:%?80?%;height:%?80?%}.right[data-v-1ef95a9f]{text-align:right}.cu-form-group[data-v-1ef95a9f]{background-color:#fff;padding:%?1?% %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;min-height:%?80?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:%?10?%}.btn[data-v-1ef95a9f]{margin-top:%?10?%;margin-right:%?10?%;font-size:%?20?%}.text[data-v-1ef95a9f]{font-size:%?40?%;margin-top:%?20?%}.pickerText[data-v-1ef95a9f]{font-size:%?50?%}",""]),t.exports=e},"465a":function(t,e,a){"use strict";var n=a("5b9a"),i=a.n(n);i.a},"5b9a":function(t,e,a){var n=a("337d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("1c1dd860",n,!0,{sourceMap:!1,shadowMode:!1})},"67d4":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{account:"",password:"",type:-1,sequence:!0,nowSchoolYear:2021,yearindex:0,termindex:0,year:[],term:["1","2"],studentName:"",className:"",nodata:!1,baseTableData:[]}},components:{},onShow:function(){this.calYears()},onLoad:function(t){this.account=t.account,this.password=t.password,this.type=t.type,this.checkData()},methods:{calYears:function(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1;a<9?(this.nowSchoolYear=e-1,this.termindex=a>2?1:0):(this.nowSchoolYear=e,this.termindex=0);for(var n=0;n<4;n++){var i=this.nowSchoolYear-n,s=i+1;this.year.push(i+"-"+s)}},changeSequence:function(){var t;this.sequence=!this.sequence;for(var e=0;e<this.baseTableData.length/2;e++)t=this.baseTableData[e],this.baseTableData[e]=this.baseTableData[this.baseTableData.length-1-e],this.baseTableData[this.baseTableData.length-1-e]=t},YearChange:function(t){this.yearindex=t.detail.value},TermChange:function(t){this.termindex=t.detail.value},checkData:function(){return!(this.account.length<2||this.password.length<2||this.type<0)||(uni.showModal({showCancel:!1,title:"错误",content:"未读取到账户信息"}),!1)},requestData:function(){if(this.checkData()){this.nodata=!1;var e=this;t.log(e.year[e.yearindex]),uni.showLoading({title:"请求中..."}),uni.request({url:"https://lion.hzau.edu.cn/jwxt/exam",method:"POST",data:{xnm:e.nowSchoolYear-e.yearindex,xqm:e.term[e.termindex],yhm:e.account,mm:e.password,type:e.type},header:{"content-type":"application/x-www-form-urlencoded"},success:function(a){if(2==a.data.code){var n=a.data.data;if(e.baseTableData=n,!e.sequence)for(var i,s=0;s<e.baseTableData.length/2;s++)i=e.baseTableData[s],e.baseTableData[s]=e.baseTableData[e.baseTableData.length-1-s],e.baseTableData[e.baseTableData.length-1-s]=i;t.log(n),e.baseTableData.length>0?(e.studentName=e.baseTableData[0].xm,e.className=e.baseTableData[0].bj):e.nodata=!0}else uni.showModal({showCancel:!1,title:"错误",content:"失败:"+a.data.msg})},fail:function(){uni.showModal({showCancel:!1,title:"错误",content:"网络请求失败"})},complete:function(){uni.hideLoading()}})}}}};e.default=a}).call(this,a("5a52")["default"])},"6a53":function(t,e,a){"use strict";a.r(e);var n=a("67d4"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,(function(){return n[t]}))}(s);e["default"]=i.a},e777:function(t,e,a){"use strict";a.r(e);var n=a("ed81"),i=a("6a53");for(var s in i)"default"!==s&&function(t){a.d(e,t,(function(){return i[t]}))}(s);a("465a");var c,o=a("f0c5"),l=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"1ef95a9f",null,!1,n["a"],c);e["default"]=l.exports},ed81:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"margin"},[a("v-uni-view",{staticClass:"cu-form-group round"},[a("v-uni-view",{staticClass:"title"},[t._v("学年")]),a("v-uni-picker",{attrs:{value:t.yearindex,range:t.year},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.YearChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"right"},[t._v(t._s(t.year[t.yearindex])),a("v-uni-text",{staticClass:"cuIcon-triangledownfill"})],1)],1)],1),a("v-uni-view",{staticClass:"cu-form-group round",staticStyle:{"margin-top":"1.5vh"}},[a("v-uni-view",{staticClass:"title"},[t._v("学期")]),a("v-uni-picker",{attrs:{value:t.termindex,range:t.term},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.TermChange.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"right"},[t._v(t._s(t.term[t.termindex])),a("v-uni-text",{staticClass:"cuIcon-triangledownfill"})],1)],1)],1),a("v-uni-view",{staticClass:"right btn",staticStyle:{"margin-top":"1.5vh"}},[a("v-uni-button",{staticClass:"cu-btn bg-cyan round lg shadow",attrs:{size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.requestData()}}},[t._v("查询")])],1)],1),a("v-uni-view",{staticClass:"margin"},[a("v-uni-view",{staticClass:"text"},[t._v("姓名："+t._s(t.studentName))]),a("v-uni-view",{staticClass:"text"},[t._v("班级："+t._s(t.className))])],1),t.nodata?a("v-uni-view",{staticClass:"text-center text-grey",staticStyle:{"margin-top":"10vh"}},[a("v-uni-text",[t._v("未查询到该学期考试信息")])],1):t._e(),a("v-uni-view",{staticClass:"cu-card article",staticStyle:{position:"relative",overflow:"visible"}},[0!=t.baseTableData.length?a("span",{staticClass:"iconfont icon-paixu:before sequence",style:{color:t.sequence?"#20BBB0":"#86C547"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeSequence()}}}):t._e(),t._l(t.baseTableData,(function(e,n){return a("v-uni-view",{key:n,staticClass:"cu-item shadow",staticStyle:{filter:"grayscale(1)"}},[a("v-uni-view",{staticClass:"title"},[a("v-uni-view",{staticClass:"text-cut"},[t._v(t._s(e.kcmc))])],1),a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"desc"},[a("v-uni-view",[t._v("时间："+t._s(e.kssj))]),a("v-uni-view",[a("v-uni-text",[t._v("地点："+t._s(e.cdmc))]),a("v-uni-text",{staticStyle:{"margin-left":"60rpx"}},[t._v("座位号："+t._s(e.zwh))])],1),a("v-uni-view",[t._v("考试名称："+t._s(e.ksmc))])],1)],1)],1)}))],2)],1)},s=[]}}]);